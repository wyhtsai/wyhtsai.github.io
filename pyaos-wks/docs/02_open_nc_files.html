
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>2. 讀取netCDF資料 &#8212; Python在大氣和海洋科學上的應用 (PyAOS)</title>
    
  <link href="_static/css/theme.css" rel="stylesheet" />
  <link href="_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinx-book-theme.e8e5499552300ddf5d7adccae7cc3b70.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="3. 繪圖基礎：畫等值地圖" href="03_plotting_basics.html" />
    <link rel="prev" title="1. 導論" href="01_intro.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      <img src="_static/PyAOS_logo_color.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Python在大氣和海洋科學上的應用 (PyAOS)</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="00_syllabus.html">
   教學綱要（中文）
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="00_syllabus_eng.html">
   Syllabus
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="00_setup.html">
   電腦環境設置與Python安裝
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="01_intro.html">
   1. 導論
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   2. 讀取netCDF資料
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="03_plotting_basics.html">
   3. 繪圖基礎：畫等值地圖
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="04_xr_datetime.html">
   4. 時間條件控制
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_da_create.html">
   5. 手動創建DataArray
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="06_clim_anml.html">
   6. 計算氣候場及距平值
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="07_statistics_calc.html">
   7. 進階運算與統計方法
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="08_plotting_1d.html">
   8.
   <code class="docutils literal notranslate">
    <span class="pre">
     xarray
    </span>
   </code>
   繪圖 (1)：繪製1D資料
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="09_plotting_2d.html">
   9.
   <code class="docutils literal notranslate">
    <span class="pre">
     xarray
    </span>
   </code>
   繪圖 (2)：繪製2D資料
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="10_pandas_seaborn.html">
   10.
   <code class="docutils literal notranslate">
    <span class="pre">
     pandas
    </span>
   </code>
   和
   <code class="docutils literal notranslate">
    <span class="pre">
     seaborn
    </span>
   </code>
   : 統計圖表繪製
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="11_cdo.html">
   11. Climate Data Operator (CDO)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="12_large_ds.html">
   12. 大型資料處理
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/02_open_nc_files.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/wyhtsai/wyhtsai.github.io/tree/main/pyaos-wks/docs"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/wyhtsai/wyhtsai.github.io/tree/main/pyaos-wks/docs/issues/new?title=Issue%20on%20page%20%2F02_open_nc_files.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/wyhtsai/wyhtsai.github.io/master?urlpath=tree/docs/02_open_nc_files.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id1">
   讀取單一netCDF檔案
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#netcdf-reading-multiple-files">
   讀取多個netCDF檔案 (Reading Multiple Files)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#grib">
   開啟GRIB檔案
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="netcdf">
<h1>2. 讀取netCDF資料<a class="headerlink" href="#netcdf" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2>讀取單一netCDF檔案<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>讀取檔案的指令為 <strong><code class="docutils literal notranslate"><span class="pre">xarray.open_dataset(filename)</span></code></strong>。</p>
<p><strong>Example 1:</strong> 讀取OLR檔案。
在正式讀進Python之前，我們先利用<code class="docutils literal notranslate"><span class="pre">ncdump</span></code>指令來了解一下這個檔案的樣貌。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span> 
<span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;ncdump -h data/olr.nc&#39;</span><span class="p">)</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>netcdf olr {
dimensions:
	time = UNLIMITED ; // (8760 currently)
	lon = 360 ;
	bnds = 2 ;
	lat = 90 ;
variables:
	double time(time) ;
		time:standard_name = &quot;time&quot; ;
		time:long_name = &quot;reference time&quot; ;
		time:units = &quot;days since 1979-1-1 00:00:00&quot; ;
		time:calendar = &quot;standard&quot; ;
		time:axis = &quot;T&quot; ;
	float lon(lon) ;
		lon:standard_name = &quot;longitude&quot; ;
		lon:long_name = &quot;longitude&quot; ;
		lon:units = &quot;degrees_east&quot; ;
		lon:axis = &quot;X&quot; ;
		lon:bounds = &quot;lon_bnds&quot; ;
	float lon_bnds(lon, bnds) ;
	float lat(lat) ;
		lat:standard_name = &quot;latitude&quot; ;
		lat:long_name = &quot;latitude&quot; ;
		lat:units = &quot;degrees_north&quot; ;
		lat:axis = &quot;Y&quot; ;
		lat:bounds = &quot;lat_bnds&quot; ;
	float lat_bnds(lat, bnds) ;
	float olr(time, lat, lon) ;
		olr:standard_name = &quot;toa_outgoing_longwave_flux&quot; ;
		olr:long_name = &quot;NOAA Climate Data Record of Daily Mean Upward Longwave Flux at Top of the Atmosphere&quot; ;
		olr:units = &quot;W m-2&quot; ;
		olr:_FillValue = 0.f ;
		olr:missing_value = 0.f ;
		olr:cell_methods = &quot;time: mean area: mean&quot; ;

// global attributes:
		:CDI = &quot;Climate Data Interface version 1.9.10 (https://mpimet.mpg.de/cdi)&quot; ;
		:Conventions = &quot;CF-1.6&quot; ;
		:source = &quot;NOAA Archive of HIRS L1B data from TIROS-N Series and MetOp-A/B, Gridsat CDR&quot; ;
		:institution = &quot;UMD/ESSIC &gt; Earth System Science Interdisciplinary Center, University of Maryland&quot; ;
		:history = &quot;Fri Jan 14 11:02:54 2022: cdo sellonlatbox,0,360,-45,45 -select,year=1998/2021 olr_cer_v01r02_daily_1979-2021.nc /data3/USERS/waynetsai/pyaos_wks_samples/data/olr_slice.nc\nFri Jan 07 23:38:23 2022: cdo settime,00:00:00 -mergetime olr_cer_v01r02_daily_1979-2020.nc /data3/USERS/waynetsai/data/OLR/OLR_CER_v1.2/olr-daily_v01r02-preliminary_20210101_latest.nc olr_cer_v01r02_daily_1979-2021.nc\nFri Jan 07 23:36:07 2022: cdo select,year=1979/2020 olr_cer_v01r02_daily_1979-202105.nc /data4/USERS/waynetsai/data/olr_cer_v01r02_daily_1979-2020.nc\nSun Oct 03 21:47:07 2021: cdo -r copy olr_cer_v01r02_daily_1979-202105_noleap_abs_t.nc olr_cer_v01r02_daily_1979-202105.nc\nWed Jun 23 09:37:07 2021: cdo delete,month=2,day=29 olr_cer_v01r02_daily_1979-202105_abs_t.nc olr_cer_v01r02_daily_1979-202105_noleap_abs_t.nc\nMon May 24 12:05:18 2021: cdo -a settime,00:00:00 -mergetime olr-daily_v01r02_19790101_19791231.nc olr-daily_v01r02_19800101_19801231.nc olr-daily_v01r02_19810101_19811231.nc olr-daily_v01r02_19820101_19821231.nc olr-daily_v01r02_19830101_19831231.nc olr-daily_v01r02_19840101_19841231.nc olr-daily_v01r02_19850101_19851231.nc olr-daily_v01r02_19860101_19861231.nc olr-daily_v01r02_19870101_19871231.nc olr-daily_v01r02_19880101_19881231.nc olr-daily_v01r02_19890101_19891231.nc olr-daily_v01r02_19900101_19901231.nc olr-daily_v01r02_19910101_19911231.nc olr-daily_v01r02_19920101_19921231.nc olr-daily_v01r02_19930101_19931231.nc olr-daily_v01r02_19940101_19941231.nc olr-daily_v01r02_19950101_19951231.nc olr-daily_v01r02_19960101_19961231.nc olr-daily_v01r02_19970101_19971231.nc olr-daily_v01r02_19980101_19981231.nc olr-daily_v01r02_19990101_19991231.nc olr-daily_v01r02_20000101_20001231.nc olr-daily_v01r02_20010101_20011231.nc olr-daily_v01r02_20020101_20021231.nc olr-daily_v01r02_20030101_20031231.nc olr-daily_v01r02_20040101_20041231.nc olr-daily_v01r02_20050101_20051231.nc olr-daily_v01r02_20060101_20061231.nc olr-daily_v01r02_20070101_20071231.nc olr-daily_v01r02_20080101_20081231.nc olr-daily_v01r02_20090101_20091231.nc olr-daily_v01r02_20100101_20101231.nc olr-daily_v01r02_20110101_20111231.nc olr-daily_v01r02_20120101_20121231.nc olr-daily_v01r02_20130101_20131231.nc olr-daily_v01r02_20140101_20141231.nc olr-daily_v01r02_20150101_20151231.nc olr-daily_v01r02_20160101_20161231.nc olr-daily_v01r02_20170101_20171231.nc olr-daily_v01r02_20180101_20181231.nc olr-daily_v01r02_preliminary_2019.nc olr-daily_v01r02_preliminary_2020.nc olr-daily_v01r02_preliminary_2021.nc ../olr_cer_v01r02_daily_1979-202105_abs_t.nc\n2014-06-10T18:57:59Z - generated by software package Ver01Rev02.&quot; ;
		:conventions = &quot;CF-1.6&quot; ;
		:title = &quot;Daily OLR CDR Product Ver01Rev02&quot; ;
		:reference = &quot;doi:10.1175/2007JTECHA989.1  doi:10.1175/1520-0426(1989)006&lt;0706:ATFEOL&gt;2.0.CO;2  doi:10.1175/1520-0426(1994)011&lt;0357:VOATFE&gt;2.0.CO;2&quot; ;
		:comment = &quot;Final TCDR&quot; ;
		:Metadata_Conventions = &quot;Unidata Dataset Discovery v1.0, CF-1.6&quot; ;
		:standard_name_vocabulary = &quot;CF Standard Name Table (v26, 26 November 2013)&quot; ;
		:id = &quot;olr-daily_v01r02_19790101_19791231.nc&quot; ;
		:naming_authority = &quot;gov.noaa.ncdc&quot; ;
		:date_created = &quot;2014-06-10T18:57:59Z&quot; ;
		:date_modified = &quot;2014-06-10T18:57:59Z&quot; ;
		:license = &quot;Users must cite this dataset when used as a source. No other constraints on data access or use.&quot; ;
		:summary = &quot;The product contains the 1-degree by 1-degree daily mean outgoing longwave radiation flux at the top of the atmosphere derived from HIRS radiance observations onboard NOAA TIROS-N series and MetOp satellites. The OLR retrieval uses multispectral regression models (Ellingson et al., 1989, Lee, 2014). The CDR processing includes HIRS radiance calibration, inter-satellite HIRS OLR calibration, normalization of geostationary-based  OLR retrieval to HIRS, and grid-based 7-day boxcar temporal integration assisted with Imager-based OLR derived from Gridsat CDR data (Lee, 2014).&quot; ;
		:keywords = &quot;Earth Science &gt; Atmosphere &gt;  Atmospheric Radiation &gt; Outgoing Longwave Radiation&quot; ;
		:keywords_vocabulary = &quot;NASA Global Change Master Directory (GCMD) Earth Science Keywords, Version 8.0.0.0&quot; ;
		:cdm_data_type = &quot;Grid&quot; ;
		:project = &quot;NOAA Daily OLR TCDR&quot; ;
		:processing_level = &quot;NOAA Level 3&quot; ;
		:creator_name = &quot;Hai-Tien Lee&quot; ;
		:creator_URL = &quot;http://cicsmd.umd.edu/&quot; ;
		:creator_email = &quot;lee@umd.edu&quot; ;
		:geospatial_lat_min = &quot;-90.0&quot; ;
		:geospatial_lat_max = &quot;90.0&quot; ;
		:geospatial_lon_min = &quot;0.0&quot; ;
		:geospatial_lon_max = &quot;360.0&quot; ;
		:geospatial_lat_units = &quot;degree&quot; ;
		:geospatial_lat_resolution = &quot;1.0&quot; ;
		:geospatial_lon_units = &quot;degree&quot; ;
		:geospatial_lon_resolution = &quot;1.0&quot; ;
		:time_coverage_start = &quot;1979-01-01T00:00:00.00Z&quot; ;
		:time_coverage_end = &quot;1979-12-31T23:59:59.99Z&quot; ;
		:time_coverage_duration = &quot;P365D&quot; ;
		:time_coverage_resolution = &quot;P1D&quot; ;
		:contributor_name = &quot;Hai-Tien Lee&quot; ;
		:contributor_role = &quot;principalinvestigator&quot; ;
		:acknowledgment = &quot;This project was supported in part by a grant from the NOAA Climate Data Record (CDR) Program for Satellites&quot; ;
		:cdr_program = &quot;NOAA Climate Data Record Program for satellites&quot; ;
		:cdr_variable = &quot;olr&quot; ;
		:software_version_id = &quot;Ver01Rev02&quot; ;
		:Metadata_Link = &quot;gov.noaa.ncdc:C00875&quot; ;
		:product_version = &quot;Ver01Rev02&quot; ;
		:platform = &quot;TIROS-N &gt; Television Infrared Observation Satellite - N, NOAA-6 &gt; National Oceanic Atmospheric Administration - 6, NOAA-7 &gt; National Oceanic Atmospheric Administration - 7, NOAA-8 &gt; National Oceanic Atmospheric Administration - 8, NOAA-9 &gt; National Oceanic Atmospheric Administration - 9, NOAA-10 &gt; National Oceanic Atmospheric Administration - 10, NOAA-11 &gt; National Oceanic Atmospheric Administration - 11, NOAA-12 &gt; National Oceanic Atmospheric Administration - 12, NOAA-14 &gt; National Oceanic Atmospheric Administration - 14, NOAA-15 &gt; National Oceanic Atmospheric Administration - 15, NOAA-16 &gt; National Oceanic Atmospheric Administration - 16, NOAA-17 &gt; National Oceanic Atmospheric Administration - 17, NOAA-18 &gt; National Oceanic Atmospheric Administration - 18, NOAA-19 &gt; National Oceanic Atmospheric Administration - 19, MetOp-A &gt; Meteorological Operational Polar Satellite - A, MetOp-B &gt; Meteorological Operational Polar Satellite - B&quot; ;
		:sensor = &quot;HIRS-2 &gt; High Resolution Infra-red Sounder/2, HIRS-2I &gt; High Resolution Infra-red Sounder/2I, HIRS-3 &gt; High Resolution Infra-red Sounder/3, HIRS-4 &gt; High Resolution Infra-red Sounder/4&quot; ;
		:spatial_resolution = &quot;1.0 by 1.0 degree equal angle&quot; ;
		:CDO = &quot;Climate Data Operators version 1.9.10 (https://mpimet.mpg.de/cdo)&quot; ;
}
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
</pre></div>
</div>
</div>
</div>
<p>一個netCDF檔案中，會儲存資料本身，以及它的座標軸。時間軸<code class="docutils literal notranslate"><span class="pre">time</span></code>是double的格式，如果將時間軸的內容顯示出來，我們會看到</p>
<p><code class="docutils literal notranslate"><span class="pre">os.system('ncdump</span> <span class="pre">-v</span> <span class="pre">time</span> <span class="pre">data/olr.nc')</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">double</span> <span class="n">time</span><span class="p">(</span><span class="n">time</span><span class="p">)</span> <span class="p">;</span>
	<span class="n">time</span><span class="p">:</span><span class="n">standard_name</span> <span class="o">=</span> <span class="s2">&quot;time&quot;</span> <span class="p">;</span>
	<span class="n">time</span><span class="p">:</span><span class="n">long_name</span> <span class="o">=</span> <span class="s2">&quot;reference time&quot;</span> <span class="p">;</span>
	<span class="n">time</span><span class="p">:</span><span class="n">units</span> <span class="o">=</span> <span class="s2">&quot;days since 1979-1-1 00:00:00&quot;</span> <span class="p">;</span>
	<span class="n">time</span><span class="p">:</span><span class="n">calendar</span> <span class="o">=</span> <span class="s2">&quot;standard&quot;</span> <span class="p">;</span>
	<span class="n">time</span><span class="p">:</span><span class="n">axis</span> <span class="o">=</span> <span class="s2">&quot;T&quot;</span> <span class="p">;</span>
<span class="o">......</span>
<span class="n">time</span> <span class="o">=</span> <span class="mi">6940</span><span class="p">,</span> <span class="mi">6941</span><span class="p">,</span> <span class="mi">6942</span><span class="p">,</span> <span class="mi">6943</span><span class="p">,</span> <span class="mi">6944</span><span class="p">,</span> <span class="mi">6945</span><span class="p">,</span> <span class="mi">6946</span><span class="p">,</span> <span class="mi">6947</span><span class="p">,</span> <span class="mi">6948</span><span class="p">,</span> <span class="mi">6949</span><span class="p">,</span> <span class="mi">6950</span><span class="p">,</span> 
    <span class="mi">6951</span><span class="p">,</span> <span class="mi">6952</span><span class="p">,</span> <span class="mi">6953</span><span class="p">,</span> <span class="mi">6954</span><span class="p">,</span> <span class="mi">6955</span><span class="p">,</span> <span class="mi">6956</span><span class="p">,</span> <span class="mi">6957</span><span class="p">,</span> <span class="mi">6958</span><span class="p">,</span> <span class="mi">6959</span><span class="p">,</span> <span class="mi">6960</span><span class="p">,</span> <span class="mi">6961</span><span class="p">,</span> <span class="mi">6962</span><span class="p">,</span> 
</pre></div>
</div>
<p>列印出的時間是15305, 15306, 15307, …這樣的時間序列，再看時間單位<code class="docutils literal notranslate"><span class="pre">time:units</span> <span class="pre">=</span> <span class="pre">&quot;days</span> <span class="pre">since</span> <span class="pre">1979-1-1</span> <span class="pre">00:00:00&quot;</span></code>，這表示時間格式是相對於1979年1月1日0時是第幾天，我們把這樣儲存時間的方法稱為<strong>相對時間</strong>。</p>
<p>了解了netCDF儲存檔案的方式後，我們用xarray來開啟檔案看看。xarray讀取netCDF檔案，是利用<code class="docutils literal notranslate"><span class="pre">xr.open_dataset</span></code>的指令，也就是把檔案讀進Dataset的資料格式中，</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xr</span>

<span class="n">olr_ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="s2">&quot;data/olr.nc&quot;</span><span class="p">)</span>
<span class="n">olr_ds</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt;
Dimensions:   (time: 8760, lon: 360, bnds: 2, lat: 90)
Coordinates:
  * time      (time) datetime64[ns] 1998-01-01 1998-01-02 ... 2021-12-31
  * lon       (lon) float32 0.5 1.5 2.5 3.5 4.5 ... 356.5 357.5 358.5 359.5
  * lat       (lat) float32 -44.5 -43.5 -42.5 -41.5 ... 41.5 42.5 43.5 44.5
Dimensions without coordinates: bnds
Data variables:
    lon_bnds  (lon, bnds) float32 0.0 1.0 1.0 2.0 ... 358.0 359.0 359.0 360.0
    lat_bnds  (lat, bnds) float32 -45.0 -44.0 -44.0 -43.0 ... 44.0 44.0 45.0
    olr       (time, lat, lon) float32 ...
Attributes: (12/49)
    CDI:                        Climate Data Interface version 1.9.10 (https:...
    Conventions:                CF-1.6
    source:                     NOAA Archive of HIRS L1B data from TIROS-N Se...
    institution:                UMD/ESSIC &gt; Earth System Science Interdiscipl...
    history:                    Fri Jan 14 11:02:54 2022: cdo sellonlatbox,0,...
    conventions:                CF-1.6
    ...                         ...
    Metadata_Link:              gov.noaa.ncdc:C00875
    product_version:            Ver01Rev02
    platform:                   TIROS-N &gt; Television Infrared Observation Sat...
    sensor:                     HIRS-2 &gt; High Resolution Infra-red Sounder/2,...
    spatial_resolution:         1.0 by 1.0 degree equal angle
    CDO:                        Climate Data Operators version 1.9.10 (https:...</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-73ff5ff3-553d-40cd-94da-9fd8952c6a66' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-73ff5ff3-553d-40cd-94da-9fd8952c6a66' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 8760</li><li><span class='xr-has-index'>lon</span>: 360</li><li><span>bnds</span>: 2</li><li><span class='xr-has-index'>lat</span>: 90</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-b7b89c04-8938-4b2d-97f9-d638c5968142' class='xr-section-summary-in' type='checkbox'  checked><label for='section-b7b89c04-8938-4b2d-97f9-d638c5968142' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>1998-01-01 ... 2021-12-31</div><input id='attrs-9859cf75-2170-4aff-8da3-8a0b6830006e' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-9859cf75-2170-4aff-8da3-8a0b6830006e' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-ee25c778-cac2-49dd-9580-6650c8c3a711' class='xr-var-data-in' type='checkbox'><label for='data-ee25c778-cac2-49dd-9580-6650c8c3a711' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>time</dd><dt><span>long_name :</span></dt><dd>reference time</dd><dt><span>axis :</span></dt><dd>T</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;1998-01-01T00:00:00.000000000&#x27;, &#x27;1998-01-02T00:00:00.000000000&#x27;,
       &#x27;1998-01-03T00:00:00.000000000&#x27;, ..., &#x27;2021-12-29T00:00:00.000000000&#x27;,
       &#x27;2021-12-30T00:00:00.000000000&#x27;, &#x27;2021-12-31T00:00:00.000000000&#x27;],
      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>lon</span></div><div class='xr-var-dims'>(lon)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>0.5 1.5 2.5 ... 357.5 358.5 359.5</div><input id='attrs-bc3671f7-b7bf-4f94-b49a-bd4e920d7647' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-bc3671f7-b7bf-4f94-b49a-bd4e920d7647' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-3dc6b354-bfc5-44a4-b3f6-47847fbe337e' class='xr-var-data-in' type='checkbox'><label for='data-3dc6b354-bfc5-44a4-b3f6-47847fbe337e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>longitude</dd><dt><span>long_name :</span></dt><dd>longitude</dd><dt><span>units :</span></dt><dd>degrees_east</dd><dt><span>axis :</span></dt><dd>X</dd><dt><span>bounds :</span></dt><dd>lon_bnds</dd></dl></div><div class='xr-var-data'><pre>array([  0.5,   1.5,   2.5, ..., 357.5, 358.5, 359.5], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>lat</span></div><div class='xr-var-dims'>(lat)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>-44.5 -43.5 -42.5 ... 43.5 44.5</div><input id='attrs-5d66145e-85ee-46fc-aee5-2a92729c29eb' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-5d66145e-85ee-46fc-aee5-2a92729c29eb' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-76af3018-f7b1-4a12-ba63-1df1f5d9f02a' class='xr-var-data-in' type='checkbox'><label for='data-76af3018-f7b1-4a12-ba63-1df1f5d9f02a' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>latitude</dd><dt><span>long_name :</span></dt><dd>latitude</dd><dt><span>units :</span></dt><dd>degrees_north</dd><dt><span>axis :</span></dt><dd>Y</dd><dt><span>bounds :</span></dt><dd>lat_bnds</dd></dl></div><div class='xr-var-data'><pre>array([-44.5, -43.5, -42.5, -41.5, -40.5, -39.5, -38.5, -37.5, -36.5, -35.5,
       -34.5, -33.5, -32.5, -31.5, -30.5, -29.5, -28.5, -27.5, -26.5, -25.5,
       -24.5, -23.5, -22.5, -21.5, -20.5, -19.5, -18.5, -17.5, -16.5, -15.5,
       -14.5, -13.5, -12.5, -11.5, -10.5,  -9.5,  -8.5,  -7.5,  -6.5,  -5.5,
        -4.5,  -3.5,  -2.5,  -1.5,  -0.5,   0.5,   1.5,   2.5,   3.5,   4.5,
         5.5,   6.5,   7.5,   8.5,   9.5,  10.5,  11.5,  12.5,  13.5,  14.5,
        15.5,  16.5,  17.5,  18.5,  19.5,  20.5,  21.5,  22.5,  23.5,  24.5,
        25.5,  26.5,  27.5,  28.5,  29.5,  30.5,  31.5,  32.5,  33.5,  34.5,
        35.5,  36.5,  37.5,  38.5,  39.5,  40.5,  41.5,  42.5,  43.5,  44.5],
      dtype=float32)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-53739cc7-4686-47ad-83ed-ae70acc69365' class='xr-section-summary-in' type='checkbox'  checked><label for='section-53739cc7-4686-47ad-83ed-ae70acc69365' class='xr-section-summary' >Data variables: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>lon_bnds</span></div><div class='xr-var-dims'>(lon, bnds)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-6a6d37f5-5e1e-464f-8748-7792c4ffd7f4' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-6a6d37f5-5e1e-464f-8748-7792c4ffd7f4' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-7c387835-4476-4d10-b6ff-361678b62d7c' class='xr-var-data-in' type='checkbox'><label for='data-7c387835-4476-4d10-b6ff-361678b62d7c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[  0.,   1.],
       [  1.,   2.],
       [  2.,   3.],
       ...,
       [357., 358.],
       [358., 359.],
       [359., 360.]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>lat_bnds</span></div><div class='xr-var-dims'>(lat, bnds)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-52864bc4-74c4-4075-8df2-491e46f66726' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-52864bc4-74c4-4075-8df2-491e46f66726' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-1cd844d4-0426-4393-8498-350e22949cb6' class='xr-var-data-in' type='checkbox'><label for='data-1cd844d4-0426-4393-8498-350e22949cb6' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[-45., -44.],
       [-44., -43.],
       [-43., -42.],
       [-42., -41.],
       [-41., -40.],
       [-40., -39.],
       [-39., -38.],
       [-38., -37.],
       [-37., -36.],
       [-36., -35.],
       [-35., -34.],
       [-34., -33.],
       [-33., -32.],
       [-32., -31.],
       [-31., -30.],
       [-30., -29.],
       [-29., -28.],
       [-28., -27.],
       [-27., -26.],
       [-26., -25.],
       [-25., -24.],
       [-24., -23.],
       [-23., -22.],
       [-22., -21.],
       [-21., -20.],
       [-20., -19.],
       [-19., -18.],
       [-18., -17.],
       [-17., -16.],
       [-16., -15.],
       [-15., -14.],
       [-14., -13.],
       [-13., -12.],
       [-12., -11.],
       [-11., -10.],
       [-10.,  -9.],
       [ -9.,  -8.],
       [ -8.,  -7.],
       [ -7.,  -6.],
       [ -6.,  -5.],
       [ -5.,  -4.],
       [ -4.,  -3.],
       [ -3.,  -2.],
       [ -2.,  -1.],
       [ -1.,   0.],
       [  0.,   1.],
       [  1.,   2.],
       [  2.,   3.],
       [  3.,   4.],
       [  4.,   5.],
       [  5.,   6.],
       [  6.,   7.],
       [  7.,   8.],
       [  8.,   9.],
       [  9.,  10.],
       [ 10.,  11.],
       [ 11.,  12.],
       [ 12.,  13.],
       [ 13.,  14.],
       [ 14.,  15.],
       [ 15.,  16.],
       [ 16.,  17.],
       [ 17.,  18.],
       [ 18.,  19.],
       [ 19.,  20.],
       [ 20.,  21.],
       [ 21.,  22.],
       [ 22.,  23.],
       [ 23.,  24.],
       [ 24.,  25.],
       [ 25.,  26.],
       [ 26.,  27.],
       [ 27.,  28.],
       [ 28.,  29.],
       [ 29.,  30.],
       [ 30.,  31.],
       [ 31.,  32.],
       [ 32.,  33.],
       [ 33.,  34.],
       [ 34.,  35.],
       [ 35.,  36.],
       [ 36.,  37.],
       [ 37.,  38.],
       [ 38.,  39.],
       [ 39.,  40.],
       [ 40.,  41.],
       [ 41.,  42.],
       [ 42.,  43.],
       [ 43.,  44.],
       [ 44.,  45.]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>olr</span></div><div class='xr-var-dims'>(time, lat, lon)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-fa9ae1f5-ea9b-41d1-8973-f9198ffc4474' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-fa9ae1f5-ea9b-41d1-8973-f9198ffc4474' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-f3b86556-9e20-4c3f-aa3d-e9741fe919b9' class='xr-var-data-in' type='checkbox'><label for='data-f3b86556-9e20-4c3f-aa3d-e9741fe919b9' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>toa_outgoing_longwave_flux</dd><dt><span>long_name :</span></dt><dd>NOAA Climate Data Record of Daily Mean Upward Longwave Flux at Top of the Atmosphere</dd><dt><span>units :</span></dt><dd>W m-2</dd><dt><span>cell_methods :</span></dt><dd>time: mean area: mean</dd></dl></div><div class='xr-var-data'><pre>[283824000 values with dtype=float32]</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-029a7380-c987-4288-8524-cfd518f43189' class='xr-section-summary-in' type='checkbox'  ><label for='section-029a7380-c987-4288-8524-cfd518f43189' class='xr-section-summary' >Attributes: <span>(49)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>CDI :</span></dt><dd>Climate Data Interface version 1.9.10 (https://mpimet.mpg.de/cdi)</dd><dt><span>Conventions :</span></dt><dd>CF-1.6</dd><dt><span>source :</span></dt><dd>NOAA Archive of HIRS L1B data from TIROS-N Series and MetOp-A/B, Gridsat CDR</dd><dt><span>institution :</span></dt><dd>UMD/ESSIC &gt; Earth System Science Interdisciplinary Center, University of Maryland</dd><dt><span>history :</span></dt><dd>Fri Jan 14 11:02:54 2022: cdo sellonlatbox,0,360,-45,45 -select,year=1998/2021 olr_cer_v01r02_daily_1979-2021.nc /data3/USERS/waynetsai/pyaos_wks_samples/data/olr_slice.nc
Fri Jan 07 23:38:23 2022: cdo settime,00:00:00 -mergetime olr_cer_v01r02_daily_1979-2020.nc /data3/USERS/waynetsai/data/OLR/OLR_CER_v1.2/olr-daily_v01r02-preliminary_20210101_latest.nc olr_cer_v01r02_daily_1979-2021.nc
Fri Jan 07 23:36:07 2022: cdo select,year=1979/2020 olr_cer_v01r02_daily_1979-202105.nc /data4/USERS/waynetsai/data/olr_cer_v01r02_daily_1979-2020.nc
Sun Oct 03 21:47:07 2021: cdo -r copy olr_cer_v01r02_daily_1979-202105_noleap_abs_t.nc olr_cer_v01r02_daily_1979-202105.nc
Wed Jun 23 09:37:07 2021: cdo delete,month=2,day=29 olr_cer_v01r02_daily_1979-202105_abs_t.nc olr_cer_v01r02_daily_1979-202105_noleap_abs_t.nc
Mon May 24 12:05:18 2021: cdo -a settime,00:00:00 -mergetime olr-daily_v01r02_19790101_19791231.nc olr-daily_v01r02_19800101_19801231.nc olr-daily_v01r02_19810101_19811231.nc olr-daily_v01r02_19820101_19821231.nc olr-daily_v01r02_19830101_19831231.nc olr-daily_v01r02_19840101_19841231.nc olr-daily_v01r02_19850101_19851231.nc olr-daily_v01r02_19860101_19861231.nc olr-daily_v01r02_19870101_19871231.nc olr-daily_v01r02_19880101_19881231.nc olr-daily_v01r02_19890101_19891231.nc olr-daily_v01r02_19900101_19901231.nc olr-daily_v01r02_19910101_19911231.nc olr-daily_v01r02_19920101_19921231.nc olr-daily_v01r02_19930101_19931231.nc olr-daily_v01r02_19940101_19941231.nc olr-daily_v01r02_19950101_19951231.nc olr-daily_v01r02_19960101_19961231.nc olr-daily_v01r02_19970101_19971231.nc olr-daily_v01r02_19980101_19981231.nc olr-daily_v01r02_19990101_19991231.nc olr-daily_v01r02_20000101_20001231.nc olr-daily_v01r02_20010101_20011231.nc olr-daily_v01r02_20020101_20021231.nc olr-daily_v01r02_20030101_20031231.nc olr-daily_v01r02_20040101_20041231.nc olr-daily_v01r02_20050101_20051231.nc olr-daily_v01r02_20060101_20061231.nc olr-daily_v01r02_20070101_20071231.nc olr-daily_v01r02_20080101_20081231.nc olr-daily_v01r02_20090101_20091231.nc olr-daily_v01r02_20100101_20101231.nc olr-daily_v01r02_20110101_20111231.nc olr-daily_v01r02_20120101_20121231.nc olr-daily_v01r02_20130101_20131231.nc olr-daily_v01r02_20140101_20141231.nc olr-daily_v01r02_20150101_20151231.nc olr-daily_v01r02_20160101_20161231.nc olr-daily_v01r02_20170101_20171231.nc olr-daily_v01r02_20180101_20181231.nc olr-daily_v01r02_preliminary_2019.nc olr-daily_v01r02_preliminary_2020.nc olr-daily_v01r02_preliminary_2021.nc ../olr_cer_v01r02_daily_1979-202105_abs_t.nc
2014-06-10T18:57:59Z - generated by software package Ver01Rev02.</dd><dt><span>conventions :</span></dt><dd>CF-1.6</dd><dt><span>title :</span></dt><dd>Daily OLR CDR Product Ver01Rev02</dd><dt><span>reference :</span></dt><dd>doi:10.1175/2007JTECHA989.1  doi:10.1175/1520-0426(1989)006&lt;0706:ATFEOL&gt;2.0.CO;2  doi:10.1175/1520-0426(1994)011&lt;0357:VOATFE&gt;2.0.CO;2</dd><dt><span>comment :</span></dt><dd>Final TCDR</dd><dt><span>Metadata_Conventions :</span></dt><dd>Unidata Dataset Discovery v1.0, CF-1.6</dd><dt><span>standard_name_vocabulary :</span></dt><dd>CF Standard Name Table (v26, 26 November 2013)</dd><dt><span>id :</span></dt><dd>olr-daily_v01r02_19790101_19791231.nc</dd><dt><span>naming_authority :</span></dt><dd>gov.noaa.ncdc</dd><dt><span>date_created :</span></dt><dd>2014-06-10T18:57:59Z</dd><dt><span>date_modified :</span></dt><dd>2014-06-10T18:57:59Z</dd><dt><span>license :</span></dt><dd>Users must cite this dataset when used as a source. No other constraints on data access or use.</dd><dt><span>summary :</span></dt><dd>The product contains the 1-degree by 1-degree daily mean outgoing longwave radiation flux at the top of the atmosphere derived from HIRS radiance observations onboard NOAA TIROS-N series and MetOp satellites. The OLR retrieval uses multispectral regression models (Ellingson et al., 1989, Lee, 2014). The CDR processing includes HIRS radiance calibration, inter-satellite HIRS OLR calibration, normalization of geostationary-based  OLR retrieval to HIRS, and grid-based 7-day boxcar temporal integration assisted with Imager-based OLR derived from Gridsat CDR data (Lee, 2014).</dd><dt><span>keywords :</span></dt><dd>Earth Science &gt; Atmosphere &gt;  Atmospheric Radiation &gt; Outgoing Longwave Radiation</dd><dt><span>keywords_vocabulary :</span></dt><dd>NASA Global Change Master Directory (GCMD) Earth Science Keywords, Version 8.0.0.0</dd><dt><span>cdm_data_type :</span></dt><dd>Grid</dd><dt><span>project :</span></dt><dd>NOAA Daily OLR TCDR</dd><dt><span>processing_level :</span></dt><dd>NOAA Level 3</dd><dt><span>creator_name :</span></dt><dd>Hai-Tien Lee</dd><dt><span>creator_URL :</span></dt><dd>http://cicsmd.umd.edu/</dd><dt><span>creator_email :</span></dt><dd>lee@umd.edu</dd><dt><span>geospatial_lat_min :</span></dt><dd>-90.0</dd><dt><span>geospatial_lat_max :</span></dt><dd>90.0</dd><dt><span>geospatial_lon_min :</span></dt><dd>0.0</dd><dt><span>geospatial_lon_max :</span></dt><dd>360.0</dd><dt><span>geospatial_lat_units :</span></dt><dd>degree</dd><dt><span>geospatial_lat_resolution :</span></dt><dd>1.0</dd><dt><span>geospatial_lon_units :</span></dt><dd>degree</dd><dt><span>geospatial_lon_resolution :</span></dt><dd>1.0</dd><dt><span>time_coverage_start :</span></dt><dd>1979-01-01T00:00:00.00Z</dd><dt><span>time_coverage_end :</span></dt><dd>1979-12-31T23:59:59.99Z</dd><dt><span>time_coverage_duration :</span></dt><dd>P365D</dd><dt><span>time_coverage_resolution :</span></dt><dd>P1D</dd><dt><span>contributor_name :</span></dt><dd>Hai-Tien Lee</dd><dt><span>contributor_role :</span></dt><dd>principalinvestigator</dd><dt><span>acknowledgment :</span></dt><dd>This project was supported in part by a grant from the NOAA Climate Data Record (CDR) Program for Satellites</dd><dt><span>cdr_program :</span></dt><dd>NOAA Climate Data Record Program for satellites</dd><dt><span>cdr_variable :</span></dt><dd>olr</dd><dt><span>software_version_id :</span></dt><dd>Ver01Rev02</dd><dt><span>Metadata_Link :</span></dt><dd>gov.noaa.ncdc:C00875</dd><dt><span>product_version :</span></dt><dd>Ver01Rev02</dd><dt><span>platform :</span></dt><dd>TIROS-N &gt; Television Infrared Observation Satellite - N, NOAA-6 &gt; National Oceanic Atmospheric Administration - 6, NOAA-7 &gt; National Oceanic Atmospheric Administration - 7, NOAA-8 &gt; National Oceanic Atmospheric Administration - 8, NOAA-9 &gt; National Oceanic Atmospheric Administration - 9, NOAA-10 &gt; National Oceanic Atmospheric Administration - 10, NOAA-11 &gt; National Oceanic Atmospheric Administration - 11, NOAA-12 &gt; National Oceanic Atmospheric Administration - 12, NOAA-14 &gt; National Oceanic Atmospheric Administration - 14, NOAA-15 &gt; National Oceanic Atmospheric Administration - 15, NOAA-16 &gt; National Oceanic Atmospheric Administration - 16, NOAA-17 &gt; National Oceanic Atmospheric Administration - 17, NOAA-18 &gt; National Oceanic Atmospheric Administration - 18, NOAA-19 &gt; National Oceanic Atmospheric Administration - 19, MetOp-A &gt; Meteorological Operational Polar Satellite - A, MetOp-B &gt; Meteorological Operational Polar Satellite - B</dd><dt><span>sensor :</span></dt><dd>HIRS-2 &gt; High Resolution Infra-red Sounder/2, HIRS-2I &gt; High Resolution Infra-red Sounder/2I, HIRS-3 &gt; High Resolution Infra-red Sounder/3, HIRS-4 &gt; High Resolution Infra-red Sounder/4</dd><dt><span>spatial_resolution :</span></dt><dd>1.0 by 1.0 degree equal angle</dd><dt><span>CDO :</span></dt><dd>Climate Data Operators version 1.9.10 (https://mpimet.mpg.de/cdo)</dd></dl></div></li></ul></div></div></div></div>
</div>
<p>我們會得到一個xarray.Dataset，裡面存放olr這個<strong>變數 (variable)</strong>，以及olr陣列的<strong>座標軸 (coordinates)</strong>，座標軸的名稱稱為<strong>維度 (dimension)</strong>。</p>
<p>我們發現，<code class="docutils literal notranslate"><span class="pre">time</span></code>時間座標軸的內容，已經被轉化成我們容易辨識的時間格式yyyy-mm-dd了，這是因為xarray會自動轉譯netCDF檔中的時間，變成<strong>datetime object</strong>，這樣的時間格式稱為<strong>絕對時間</strong>。如此一來，之後要選取時間，就可以直接用年月日來處理，不必自行轉換相對時間和絕對時間。</p>
</div>
<div class="section" id="netcdf-reading-multiple-files">
<h2>讀取多個netCDF檔案 (Reading Multiple Files)<a class="headerlink" href="#netcdf-reading-multiple-files" title="Permalink to this headline">¶</a></h2>
<p>有時候我們要處理長時間的氣候資料，但作業中心提供的資料卻是一年一個檔案，如果為每一筆資料都開一個Dataset，操作起來不方便，因此xarray可以用 <code class="docutils literal notranslate"><span class="pre">xarray.open_mfdataset(paths)</span></code>指令來一次開啟所有檔案，並且選擇<code class="docutils literal notranslate"><span class="pre">combine</span> <span class="pre">=</span> <span class="pre">'nested'</span></code>，讓檔案沿著指定的坐標軸合併。</p>
<p><strong>Example 2 沿座標軸合併：</strong> 開啟NCEP R2風場資料，其中檔案是一年一筆。</p>
<p>同樣地，我們先打開一筆資料看一下。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;ncdump -h data/ncep_r2_uv850/u850.1998.nc&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>netcdf u850.1998 {
dimensions:
	time = UNLIMITED ; // (365 currently)
	bnds = 2 ;
	lon = 144 ;
	lat = 73 ;
	level = 1 ;
variables:
	double time(time) ;
		time:standard_name = &quot;time&quot; ;
		time:long_name = &quot;Time&quot; ;
		time:bounds = &quot;time_bnds&quot; ;
		time:units = &quot;hours since 1800-1-1 00:00:0.0&quot; ;
		time:calendar = &quot;standard&quot; ;
		time:axis = &quot;T&quot; ;
	double time_bnds(time, bnds) ;
	float lon(lon) ;
		lon:standard_name = &quot;longitude&quot; ;
		lon:long_name = &quot;Longitude&quot; ;
		lon:units = &quot;degrees_east&quot; ;
		lon:axis = &quot;X&quot; ;
	float lat(lat) ;
		lat:standard_name = &quot;latitude&quot; ;
		lat:long_name = &quot;Latitude&quot; ;
		lat:units = &quot;degrees_north&quot; ;
		lat:axis = &quot;Y&quot; ;
	float level(level) ;
		level:standard_name = &quot;air_pressure&quot; ;
		level:long_name = &quot;Level&quot; ;
		level:units = &quot;millibar&quot; ;
		level:positive = &quot;down&quot; ;
		level:axis = &quot;Z&quot; ;
		level:actual_range = 1000.f, 10.f ;
		level:GRIB_id = 100s ;
		level:GRIB_name = &quot;hPa&quot; ;
		level:coordinate_defines = &quot;point&quot; ;
	short uwnd(time, level, lat, lon) ;
		uwnd:standard_name = &quot;eastward_wind&quot; ;
		uwnd:long_name = &quot;Daily U-wind on Pressure Levels&quot; ;
		uwnd:units = &quot;m/s&quot; ;
		uwnd:add_offset = 187.65f ;
		uwnd:scale_factor = 0.01f ;
		uwnd:_FillValue = -32767s ;
		uwnd:missing_value = -32767s ;
		uwnd:unpacked_valid_range = -140.f, 175.f ;
		uwnd:actual_range = -78.96f, 110.35f ;
		uwnd:precision = 2s ;
		uwnd:least_significant_digit = 1s ;
		uwnd:GRIB_id = 33s ;
		uwnd:GRIB_name = &quot;UGRD&quot; ;
		uwnd:var_desc = &quot;u-wind&quot; ;
		uwnd:dataset = &quot;NCEP/DOE AMIP-II Reanalysis (Reanalysis-2) Daily Averages&quot; ;
		uwnd:level_desc = &quot;Pressure Levels&quot; ;
		uwnd:statistic = &quot;Mean&quot; ;
		uwnd:parent_stat = &quot;Individual Obs&quot; ;
		uwnd:cell_methods = &quot;time: mean (of 4 6-hourly values in one day)&quot; ;

// global attributes:
		:CDI = &quot;Climate Data Interface version 1.9.10 (https://mpimet.mpg.de/cdi)&quot; ;
		:Conventions = &quot;CF-1.0&quot; ;
		:source = &quot;NCEP/DOE AMIP-II Reanalysis (Reanalysis-2) Model&quot; ;
		:institution = &quot;National Centers for Environmental Prediction&quot; ;
		:title = &quot;Daily NCEP/DOE Reanalysis 2&quot; ;
		:history = &quot;Tue Jan 04 11:04:24 2022: cdo select,level=850 uwnd.1998.nc uv850/u850.1998.nc\n&quot;,
			&quot;created 2002/03/15 by RHS (netCDF2.3)&quot; ;
		:comments = &quot;Data is from \n&quot;,
			&quot;NCEP/DOE AMIP-II Reanalysis (Reanalysis-2)\n&quot;,
			&quot;(4x/day).  It consists of most variables interpolated to\n&quot;,
			&quot;pressure surfaces from model (sigma) surfaces.&quot; ;
		:platform = &quot;Model&quot; ;
		:dataset_title = &quot;NCEP-DOE AMIP-II Reanalysis&quot; ;
		:References = &quot;https://www.esrl.noaa.gov/psd/data/gridded/data.ncep.reanalysis2.html&quot; ;
		:source_url = &quot;http://www.cpc.ncep.noaa.gov/products/wesley/reanalysis2/&quot; ;
		:CDO = &quot;Climate Data Operators version 1.9.10 (https://mpimet.mpg.de/cdo)&quot; ;
}
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
</pre></div>
</div>
</div>
</div>
<p>不同於剛剛OLR的檔案，變數<code class="docutils literal notranslate"><span class="pre">olr</span></code>是float格式，這邊提供的風場資料<code class="docutils literal notranslate"><span class="pre">uwnd</span></code>是short格式。short是一種壓縮的格式，要透過<code class="docutils literal notranslate"><span class="pre">add_offset</span></code>和<code class="docutils literal notranslate"><span class="pre">scale_factor</span></code>轉換變成原始的數值，這兩個值都儲存在uwnd的attribute中，轉換的公式為</p>
<p>pck = (upk - add_offset) / scale_factor</p>
<p>接下來我們直接打開檔案看看。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">uds</span> <span class="o">=</span> <span class="p">(</span><span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span> <span class="s1">&#39;data/ncep_r2_uv850/u850.*.nc&#39;</span><span class="p">,</span>    <span class="c1"># 檔案名稱</span>
                           <span class="n">combine</span> <span class="o">=</span> <span class="s2">&quot;by_coords&quot;</span><span class="p">,</span>               
                           <span class="n">parallel</span><span class="o">=</span><span class="kc">True</span>                     <span class="c1"># 運用dask平行運算，提高運算效率</span>
                         <span class="p">))</span>       
<span class="n">uds</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt;
Dimensions:    (time: 8766, bnds: 2, lon: 144, lat: 73, level: 1)
Coordinates:
  * time       (time) datetime64[ns] 1998-01-01 1998-01-02 ... 2021-12-31
  * lon        (lon) float32 0.0 2.5 5.0 7.5 10.0 ... 350.0 352.5 355.0 357.5
  * lat        (lat) float32 90.0 87.5 85.0 82.5 ... -82.5 -85.0 -87.5 -90.0
  * level      (level) float32 850.0
Dimensions without coordinates: bnds
Data variables:
    time_bnds  (time, bnds) datetime64[ns] dask.array&lt;chunksize=(365, 2), meta=np.ndarray&gt;
    uwnd       (time, level, lat, lon) float32 dask.array&lt;chunksize=(365, 1, 73, 144), meta=np.ndarray&gt;
Attributes:
    CDI:            Climate Data Interface version 1.9.10 (https://mpimet.mpg...
    Conventions:    CF-1.0
    source:         NCEP/DOE AMIP-II Reanalysis (Reanalysis-2) Model
    institution:    National Centers for Environmental Prediction
    title:          Daily NCEP/DOE Reanalysis 2
    history:        Tue Jan 04 11:04:24 2022: cdo select,level=850 uwnd.1998....
    comments:       Data is from \nNCEP/DOE AMIP-II Reanalysis (Reanalysis-2)...
    platform:       Model
    dataset_title:  NCEP-DOE AMIP-II Reanalysis
    References:     https://www.esrl.noaa.gov/psd/data/gridded/data.ncep.rean...
    source_url:     http://www.cpc.ncep.noaa.gov/products/wesley/reanalysis2/
    CDO:            Climate Data Operators version 1.9.10 (https://mpimet.mpg...</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-ff7d9e33-c182-4888-a95a-0333c2eb9a5d' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-ff7d9e33-c182-4888-a95a-0333c2eb9a5d' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 8766</li><li><span>bnds</span>: 2</li><li><span class='xr-has-index'>lon</span>: 144</li><li><span class='xr-has-index'>lat</span>: 73</li><li><span class='xr-has-index'>level</span>: 1</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-9a55b388-536e-4ba8-90e1-dc55f9784d8c' class='xr-section-summary-in' type='checkbox'  checked><label for='section-9a55b388-536e-4ba8-90e1-dc55f9784d8c' class='xr-section-summary' >Coordinates: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>1998-01-01 ... 2021-12-31</div><input id='attrs-7755d561-7e24-4f6c-925e-97fa00f0c819' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-7755d561-7e24-4f6c-925e-97fa00f0c819' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b17a7e7e-2663-4092-b673-b1f7225134ec' class='xr-var-data-in' type='checkbox'><label for='data-b17a7e7e-2663-4092-b673-b1f7225134ec' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>time</dd><dt><span>long_name :</span></dt><dd>Time</dd><dt><span>bounds :</span></dt><dd>time_bnds</dd><dt><span>axis :</span></dt><dd>T</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;1998-01-01T00:00:00.000000000&#x27;, &#x27;1998-01-02T00:00:00.000000000&#x27;,
       &#x27;1998-01-03T00:00:00.000000000&#x27;, ..., &#x27;2021-12-29T00:00:00.000000000&#x27;,
       &#x27;2021-12-30T00:00:00.000000000&#x27;, &#x27;2021-12-31T00:00:00.000000000&#x27;],
      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>lon</span></div><div class='xr-var-dims'>(lon)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>0.0 2.5 5.0 ... 352.5 355.0 357.5</div><input id='attrs-2bef4b52-5c78-4feb-89f9-0886093f3f40' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-2bef4b52-5c78-4feb-89f9-0886093f3f40' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-ec949bb3-ce56-44f9-8702-37166d1b9e39' class='xr-var-data-in' type='checkbox'><label for='data-ec949bb3-ce56-44f9-8702-37166d1b9e39' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>longitude</dd><dt><span>long_name :</span></dt><dd>Longitude</dd><dt><span>units :</span></dt><dd>degrees_east</dd><dt><span>axis :</span></dt><dd>X</dd></dl></div><div class='xr-var-data'><pre>array([  0. ,   2.5,   5. ,   7.5,  10. ,  12.5,  15. ,  17.5,  20. ,  22.5,
        25. ,  27.5,  30. ,  32.5,  35. ,  37.5,  40. ,  42.5,  45. ,  47.5,
        50. ,  52.5,  55. ,  57.5,  60. ,  62.5,  65. ,  67.5,  70. ,  72.5,
        75. ,  77.5,  80. ,  82.5,  85. ,  87.5,  90. ,  92.5,  95. ,  97.5,
       100. , 102.5, 105. , 107.5, 110. , 112.5, 115. , 117.5, 120. , 122.5,
       125. , 127.5, 130. , 132.5, 135. , 137.5, 140. , 142.5, 145. , 147.5,
       150. , 152.5, 155. , 157.5, 160. , 162.5, 165. , 167.5, 170. , 172.5,
       175. , 177.5, 180. , 182.5, 185. , 187.5, 190. , 192.5, 195. , 197.5,
       200. , 202.5, 205. , 207.5, 210. , 212.5, 215. , 217.5, 220. , 222.5,
       225. , 227.5, 230. , 232.5, 235. , 237.5, 240. , 242.5, 245. , 247.5,
       250. , 252.5, 255. , 257.5, 260. , 262.5, 265. , 267.5, 270. , 272.5,
       275. , 277.5, 280. , 282.5, 285. , 287.5, 290. , 292.5, 295. , 297.5,
       300. , 302.5, 305. , 307.5, 310. , 312.5, 315. , 317.5, 320. , 322.5,
       325. , 327.5, 330. , 332.5, 335. , 337.5, 340. , 342.5, 345. , 347.5,
       350. , 352.5, 355. , 357.5], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>lat</span></div><div class='xr-var-dims'>(lat)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>90.0 87.5 85.0 ... -87.5 -90.0</div><input id='attrs-25e0fbd0-2fef-48b9-8d14-e5a1dcb0fa27' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-25e0fbd0-2fef-48b9-8d14-e5a1dcb0fa27' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-49d725ea-351b-4f6f-8424-d6a92bceb97a' class='xr-var-data-in' type='checkbox'><label for='data-49d725ea-351b-4f6f-8424-d6a92bceb97a' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>latitude</dd><dt><span>long_name :</span></dt><dd>Latitude</dd><dt><span>units :</span></dt><dd>degrees_north</dd><dt><span>axis :</span></dt><dd>Y</dd></dl></div><div class='xr-var-data'><pre>array([ 90. ,  87.5,  85. ,  82.5,  80. ,  77.5,  75. ,  72.5,  70. ,  67.5,
        65. ,  62.5,  60. ,  57.5,  55. ,  52.5,  50. ,  47.5,  45. ,  42.5,
        40. ,  37.5,  35. ,  32.5,  30. ,  27.5,  25. ,  22.5,  20. ,  17.5,
        15. ,  12.5,  10. ,   7.5,   5. ,   2.5,   0. ,  -2.5,  -5. ,  -7.5,
       -10. , -12.5, -15. , -17.5, -20. , -22.5, -25. , -27.5, -30. , -32.5,
       -35. , -37.5, -40. , -42.5, -45. , -47.5, -50. , -52.5, -55. , -57.5,
       -60. , -62.5, -65. , -67.5, -70. , -72.5, -75. , -77.5, -80. , -82.5,
       -85. , -87.5, -90. ], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>level</span></div><div class='xr-var-dims'>(level)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>850.0</div><input id='attrs-0eb9c99c-c930-45c1-8eb4-c3d13dc317ea' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-0eb9c99c-c930-45c1-8eb4-c3d13dc317ea' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9e431685-45ce-4b03-8230-e6b909541a7f' class='xr-var-data-in' type='checkbox'><label for='data-9e431685-45ce-4b03-8230-e6b909541a7f' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>air_pressure</dd><dt><span>long_name :</span></dt><dd>Level</dd><dt><span>units :</span></dt><dd>millibar</dd><dt><span>positive :</span></dt><dd>down</dd><dt><span>axis :</span></dt><dd>Z</dd><dt><span>actual_range :</span></dt><dd>[1000.   10.]</dd><dt><span>GRIB_id :</span></dt><dd>100</dd><dt><span>GRIB_name :</span></dt><dd>hPa</dd><dt><span>coordinate_defines :</span></dt><dd>point</dd></dl></div><div class='xr-var-data'><pre>array([850.], dtype=float32)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-d59184a2-1d3b-4da4-b70d-461d29f47761' class='xr-section-summary-in' type='checkbox'  checked><label for='section-d59184a2-1d3b-4da4-b70d-461d29f47761' class='xr-section-summary' >Data variables: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>time_bnds</span></div><div class='xr-var-dims'>(time, bnds)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(365, 2), meta=np.ndarray&gt;</div><input id='attrs-33b3d511-8cac-49fe-9bb8-d838478d6f24' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-33b3d511-8cac-49fe-9bb8-d838478d6f24' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-7079d41f-0193-422e-b4b9-b4e8f28e4989' class='xr-var-data-in' type='checkbox'><label for='data-7079d41f-0193-422e-b4b9-b4e8f28e4989' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table>
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr>
                        <th> Bytes </th>
                        <td> 136.97 kiB </td>
                        <td> 5.72 kiB </td>
                    </tr>
                    
                    <tr>
                        <th> Shape </th>
                        <td> (8766, 2) </td>
                        <td> (366, 2) </td>
                    </tr>
                    <tr>
                        <th> Count </th>
                        <td> 72 Tasks </td>
                        <td> 24 Chunks </td>
                    </tr>
                    <tr>
                    <th> Type </th>
                    <td> datetime64[ns] </td>
                    <td> numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="75" height="170" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="25" y2="0" style="stroke-width:2" />
  <line x1="0" y1="4" x2="25" y2="4" />
  <line x1="0" y1="9" x2="25" y2="9" />
  <line x1="0" y1="15" x2="25" y2="15" />
  <line x1="0" y1="24" x2="25" y2="24" />
  <line x1="0" y1="29" x2="25" y2="29" />
  <line x1="0" y1="35" x2="25" y2="35" />
  <line x1="0" y1="40" x2="25" y2="40" />
  <line x1="0" y1="49" x2="25" y2="49" />
  <line x1="0" y1="55" x2="25" y2="55" />
  <line x1="0" y1="60" x2="25" y2="60" />
  <line x1="0" y1="64" x2="25" y2="64" />
  <line x1="0" y1="75" x2="25" y2="75" />
  <line x1="0" y1="80" x2="25" y2="80" />
  <line x1="0" y1="84" x2="25" y2="84" />
  <line x1="0" y1="89" x2="25" y2="89" />
  <line x1="0" y1="100" x2="25" y2="100" />
  <line x1="0" y1="104" x2="25" y2="104" />
  <line x1="0" y1="109" x2="25" y2="109" />
  <line x1="0" y1="120" x2="25" y2="120" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="120" style="stroke-width:2" />
  <line x1="25" y1="0" x2="25" y2="120" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 25.412616514582485,0.0 25.412616514582485,120.0 0.0,120.0" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Text -->
  <text x="12.706308" y="140.000000" font-size="1.0rem" font-weight="100" text-anchor="middle" >2</text>
  <text x="45.412617" y="60.000000" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,45.412617,60.000000)">8766</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>uwnd</span></div><div class='xr-var-dims'>(time, level, lat, lon)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(365, 1, 73, 144), meta=np.ndarray&gt;</div><input id='attrs-1a1273f2-f15a-48b5-a9d4-fc91b9d83e6d' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-1a1273f2-f15a-48b5-a9d4-fc91b9d83e6d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a5eb50c1-999c-46ea-b486-70e0d807c3d5' class='xr-var-data-in' type='checkbox'><label for='data-a5eb50c1-999c-46ea-b486-70e0d807c3d5' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>eastward_wind</dd><dt><span>long_name :</span></dt><dd>Daily U-wind on Pressure Levels</dd><dt><span>units :</span></dt><dd>m/s</dd><dt><span>unpacked_valid_range :</span></dt><dd>[-140.  175.]</dd><dt><span>actual_range :</span></dt><dd>[-78.96 110.35]</dd><dt><span>precision :</span></dt><dd>2</dd><dt><span>GRIB_id :</span></dt><dd>33</dd><dt><span>GRIB_name :</span></dt><dd>UGRD</dd><dt><span>var_desc :</span></dt><dd>u-wind</dd><dt><span>dataset :</span></dt><dd>NCEP/DOE AMIP-II Reanalysis (Reanalysis-2) Daily Averages</dd><dt><span>level_desc :</span></dt><dd>Pressure Levels</dd><dt><span>statistic :</span></dt><dd>Mean</dd><dt><span>parent_stat :</span></dt><dd>Individual Obs</dd><dt><span>cell_methods :</span></dt><dd>time: mean (of 4 6-hourly values in one day)</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table>
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr>
                        <th> Bytes </th>
                        <td> 351.52 MiB </td>
                        <td> 14.68 MiB </td>
                    </tr>
                    
                    <tr>
                        <th> Shape </th>
                        <td> (8766, 1, 73, 144) </td>
                        <td> (366, 1, 73, 144) </td>
                    </tr>
                    <tr>
                        <th> Count </th>
                        <td> 72 Tasks </td>
                        <td> 24 Chunks </td>
                    </tr>
                    <tr>
                    <th> Type </th>
                    <td> float32 </td>
                    <td> numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="472" height="90" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="120" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="4" y1="0" x2="4" y2="25" />
  <line x1="9" y1="0" x2="9" y2="25" />
  <line x1="15" y1="0" x2="15" y2="25" />
  <line x1="20" y1="0" x2="20" y2="25" />
  <line x1="24" y1="0" x2="24" y2="25" />
  <line x1="29" y1="0" x2="29" y2="25" />
  <line x1="35" y1="0" x2="35" y2="25" />
  <line x1="40" y1="0" x2="40" y2="25" />
  <line x1="44" y1="0" x2="44" y2="25" />
  <line x1="49" y1="0" x2="49" y2="25" />
  <line x1="55" y1="0" x2="55" y2="25" />
  <line x1="60" y1="0" x2="60" y2="25" />
  <line x1="64" y1="0" x2="64" y2="25" />
  <line x1="69" y1="0" x2="69" y2="25" />
  <line x1="75" y1="0" x2="75" y2="25" />
  <line x1="80" y1="0" x2="80" y2="25" />
  <line x1="84" y1="0" x2="84" y2="25" />
  <line x1="89" y1="0" x2="89" y2="25" />
  <line x1="95" y1="0" x2="95" y2="25" />
  <line x1="100" y1="0" x2="100" y2="25" />
  <line x1="104" y1="0" x2="104" y2="25" />
  <line x1="109" y1="0" x2="109" y2="25" />
  <line x1="115" y1="0" x2="115" y2="25" />
  <line x1="120" y1="0" x2="120" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >8766</text>
  <text x="140.000000" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,12.706308)">1</text>


  <!-- Horizontal lines -->
  <line x1="190" y1="0" x2="204" y2="14" style="stroke-width:2" />
  <line x1="190" y1="25" x2="204" y2="40" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="190" y1="0" x2="190" y2="25" style="stroke-width:2" />
  <line x1="204" y1="14" x2="204" y2="40" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="190.0,0.0 204.9485979497544,14.948597949754403 204.9485979497544,40.36121446433689 190.0,25.412616514582485" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="190" y1="0" x2="217" y2="0" style="stroke-width:2" />
  <line x1="204" y1="14" x2="232" y2="14" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="190" y1="0" x2="204" y2="14" style="stroke-width:2" />
  <line x1="217" y1="0" x2="232" y2="14" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="190.0,0.0 217.94454274508834,0.0 232.89314069484274,14.948597949754403 204.9485979497544,14.948597949754403" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="204" y1="14" x2="232" y2="14" style="stroke-width:2" />
  <line x1="204" y1="40" x2="232" y2="40" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="204" y1="14" x2="204" y2="40" style="stroke-width:2" />
  <line x1="232" y1="14" x2="232" y2="40" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="204.9485979497544,14.948597949754403 232.89314069484274,14.948597949754403 232.89314069484274,40.36121446433689 204.9485979497544,40.36121446433689" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="218.920869" y="60.361214" font-size="1.0rem" font-weight="100" text-anchor="middle" >144</text>
  <text x="252.893141" y="27.654906" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,252.893141,27.654906)">73</text>
  <text x="187.474299" y="52.886915" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,187.474299,52.886915)">1</text>
</svg>
        </td>
    </tr>
</table></div></li></ul></div></li><li class='xr-section-item'><input id='section-fe362856-3292-405b-870c-12f0288eef3b' class='xr-section-summary-in' type='checkbox'  ><label for='section-fe362856-3292-405b-870c-12f0288eef3b' class='xr-section-summary' >Attributes: <span>(12)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>CDI :</span></dt><dd>Climate Data Interface version 1.9.10 (https://mpimet.mpg.de/cdi)</dd><dt><span>Conventions :</span></dt><dd>CF-1.0</dd><dt><span>source :</span></dt><dd>NCEP/DOE AMIP-II Reanalysis (Reanalysis-2) Model</dd><dt><span>institution :</span></dt><dd>National Centers for Environmental Prediction</dd><dt><span>title :</span></dt><dd>Daily NCEP/DOE Reanalysis 2</dd><dt><span>history :</span></dt><dd>Tue Jan 04 11:04:24 2022: cdo select,level=850 uwnd.1998.nc uv850/u850.1998.nc
created 2002/03/15 by RHS (netCDF2.3)</dd><dt><span>comments :</span></dt><dd>Data is from 
NCEP/DOE AMIP-II Reanalysis (Reanalysis-2)
(4x/day).  It consists of most variables interpolated to
pressure surfaces from model (sigma) surfaces.</dd><dt><span>platform :</span></dt><dd>Model</dd><dt><span>dataset_title :</span></dt><dd>NCEP-DOE AMIP-II Reanalysis</dd><dt><span>References :</span></dt><dd>https://www.esrl.noaa.gov/psd/data/gridded/data.ncep.reanalysis2.html</dd><dt><span>source_url :</span></dt><dd>http://www.cpc.ncep.noaa.gov/products/wesley/reanalysis2/</dd><dt><span>CDO :</span></dt><dd>Climate Data Operators version 1.9.10 (https://mpimet.mpg.de/cdo)</dd></dl></div></li></ul></div></div></div></div>
</div>
<p>我們發現，uwnd已經是float32的格式了，也就是說，xarray會自動轉譯short成為float，我們不需要再做額外處理。</p>
<p>另外一種方法是</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">uds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span> <span class="s1">&#39;data/ncep_r2_uv850/u850.*.nc&#39;</span><span class="p">,</span>                                       
                          <span class="n">combine</span> <span class="o">=</span> <span class="s2">&quot;nested&quot;</span><span class="p">,</span>               
                          <span class="n">concat_dim</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">,</span>                               
                          <span class="n">parallel</span><span class="o">=</span><span class="kc">True</span>                
                         <span class="p">)</span> 
<span class="n">uds</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt;
Dimensions:    (time: 8766, bnds: 2, lon: 144, lat: 73, level: 1)
Coordinates:
  * time       (time) datetime64[ns] 1998-01-01 1998-01-02 ... 2021-12-31
  * lon        (lon) float32 0.0 2.5 5.0 7.5 10.0 ... 350.0 352.5 355.0 357.5
  * lat        (lat) float32 90.0 87.5 85.0 82.5 ... -82.5 -85.0 -87.5 -90.0
  * level      (level) float32 850.0
Dimensions without coordinates: bnds
Data variables:
    time_bnds  (time, bnds) datetime64[ns] dask.array&lt;chunksize=(365, 2), meta=np.ndarray&gt;
    uwnd       (time, level, lat, lon) float32 dask.array&lt;chunksize=(365, 1, 73, 144), meta=np.ndarray&gt;
Attributes:
    CDI:            Climate Data Interface version 1.9.10 (https://mpimet.mpg...
    Conventions:    CF-1.0
    source:         NCEP/DOE AMIP-II Reanalysis (Reanalysis-2) Model
    institution:    National Centers for Environmental Prediction
    title:          Daily NCEP/DOE Reanalysis 2
    history:        Tue Jan 04 11:04:24 2022: cdo select,level=850 uwnd.1998....
    comments:       Data is from \nNCEP/DOE AMIP-II Reanalysis (Reanalysis-2)...
    platform:       Model
    dataset_title:  NCEP-DOE AMIP-II Reanalysis
    References:     https://www.esrl.noaa.gov/psd/data/gridded/data.ncep.rean...
    source_url:     http://www.cpc.ncep.noaa.gov/products/wesley/reanalysis2/
    CDO:            Climate Data Operators version 1.9.10 (https://mpimet.mpg...</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-4ba3e5e2-05b2-4adc-9b0e-4fc9884f5e99' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-4ba3e5e2-05b2-4adc-9b0e-4fc9884f5e99' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 8766</li><li><span>bnds</span>: 2</li><li><span class='xr-has-index'>lon</span>: 144</li><li><span class='xr-has-index'>lat</span>: 73</li><li><span class='xr-has-index'>level</span>: 1</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-4068ce99-fa09-4fe3-8303-6313943e5674' class='xr-section-summary-in' type='checkbox'  checked><label for='section-4068ce99-fa09-4fe3-8303-6313943e5674' class='xr-section-summary' >Coordinates: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>1998-01-01 ... 2021-12-31</div><input id='attrs-f917fbfb-d5c2-44a2-adfd-eb7fcfbbf371' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-f917fbfb-d5c2-44a2-adfd-eb7fcfbbf371' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-90b96749-a204-4230-a469-743abf474c9e' class='xr-var-data-in' type='checkbox'><label for='data-90b96749-a204-4230-a469-743abf474c9e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>time</dd><dt><span>long_name :</span></dt><dd>Time</dd><dt><span>bounds :</span></dt><dd>time_bnds</dd><dt><span>axis :</span></dt><dd>T</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;1998-01-01T00:00:00.000000000&#x27;, &#x27;1998-01-02T00:00:00.000000000&#x27;,
       &#x27;1998-01-03T00:00:00.000000000&#x27;, ..., &#x27;2021-12-29T00:00:00.000000000&#x27;,
       &#x27;2021-12-30T00:00:00.000000000&#x27;, &#x27;2021-12-31T00:00:00.000000000&#x27;],
      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>lon</span></div><div class='xr-var-dims'>(lon)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>0.0 2.5 5.0 ... 352.5 355.0 357.5</div><input id='attrs-f579a747-ad7a-4361-9bd0-6b41665b344a' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-f579a747-ad7a-4361-9bd0-6b41665b344a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-6b077d62-ea4e-4c84-b5b0-f833bf92b9e4' class='xr-var-data-in' type='checkbox'><label for='data-6b077d62-ea4e-4c84-b5b0-f833bf92b9e4' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>longitude</dd><dt><span>long_name :</span></dt><dd>Longitude</dd><dt><span>units :</span></dt><dd>degrees_east</dd><dt><span>axis :</span></dt><dd>X</dd></dl></div><div class='xr-var-data'><pre>array([  0. ,   2.5,   5. ,   7.5,  10. ,  12.5,  15. ,  17.5,  20. ,  22.5,
        25. ,  27.5,  30. ,  32.5,  35. ,  37.5,  40. ,  42.5,  45. ,  47.5,
        50. ,  52.5,  55. ,  57.5,  60. ,  62.5,  65. ,  67.5,  70. ,  72.5,
        75. ,  77.5,  80. ,  82.5,  85. ,  87.5,  90. ,  92.5,  95. ,  97.5,
       100. , 102.5, 105. , 107.5, 110. , 112.5, 115. , 117.5, 120. , 122.5,
       125. , 127.5, 130. , 132.5, 135. , 137.5, 140. , 142.5, 145. , 147.5,
       150. , 152.5, 155. , 157.5, 160. , 162.5, 165. , 167.5, 170. , 172.5,
       175. , 177.5, 180. , 182.5, 185. , 187.5, 190. , 192.5, 195. , 197.5,
       200. , 202.5, 205. , 207.5, 210. , 212.5, 215. , 217.5, 220. , 222.5,
       225. , 227.5, 230. , 232.5, 235. , 237.5, 240. , 242.5, 245. , 247.5,
       250. , 252.5, 255. , 257.5, 260. , 262.5, 265. , 267.5, 270. , 272.5,
       275. , 277.5, 280. , 282.5, 285. , 287.5, 290. , 292.5, 295. , 297.5,
       300. , 302.5, 305. , 307.5, 310. , 312.5, 315. , 317.5, 320. , 322.5,
       325. , 327.5, 330. , 332.5, 335. , 337.5, 340. , 342.5, 345. , 347.5,
       350. , 352.5, 355. , 357.5], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>lat</span></div><div class='xr-var-dims'>(lat)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>90.0 87.5 85.0 ... -87.5 -90.0</div><input id='attrs-e93983c5-a108-4897-adac-7623ddc0fcf1' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-e93983c5-a108-4897-adac-7623ddc0fcf1' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-459076ee-c6f9-480e-9c7e-fdf5810b3e07' class='xr-var-data-in' type='checkbox'><label for='data-459076ee-c6f9-480e-9c7e-fdf5810b3e07' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>latitude</dd><dt><span>long_name :</span></dt><dd>Latitude</dd><dt><span>units :</span></dt><dd>degrees_north</dd><dt><span>axis :</span></dt><dd>Y</dd></dl></div><div class='xr-var-data'><pre>array([ 90. ,  87.5,  85. ,  82.5,  80. ,  77.5,  75. ,  72.5,  70. ,  67.5,
        65. ,  62.5,  60. ,  57.5,  55. ,  52.5,  50. ,  47.5,  45. ,  42.5,
        40. ,  37.5,  35. ,  32.5,  30. ,  27.5,  25. ,  22.5,  20. ,  17.5,
        15. ,  12.5,  10. ,   7.5,   5. ,   2.5,   0. ,  -2.5,  -5. ,  -7.5,
       -10. , -12.5, -15. , -17.5, -20. , -22.5, -25. , -27.5, -30. , -32.5,
       -35. , -37.5, -40. , -42.5, -45. , -47.5, -50. , -52.5, -55. , -57.5,
       -60. , -62.5, -65. , -67.5, -70. , -72.5, -75. , -77.5, -80. , -82.5,
       -85. , -87.5, -90. ], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>level</span></div><div class='xr-var-dims'>(level)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>850.0</div><input id='attrs-8ef517dc-d69d-43dc-9829-098f931dea49' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-8ef517dc-d69d-43dc-9829-098f931dea49' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-eccc378a-eaae-46b4-94ef-6a109022deeb' class='xr-var-data-in' type='checkbox'><label for='data-eccc378a-eaae-46b4-94ef-6a109022deeb' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>air_pressure</dd><dt><span>long_name :</span></dt><dd>Level</dd><dt><span>units :</span></dt><dd>millibar</dd><dt><span>positive :</span></dt><dd>down</dd><dt><span>axis :</span></dt><dd>Z</dd><dt><span>actual_range :</span></dt><dd>[1000.   10.]</dd><dt><span>GRIB_id :</span></dt><dd>100</dd><dt><span>GRIB_name :</span></dt><dd>hPa</dd><dt><span>coordinate_defines :</span></dt><dd>point</dd></dl></div><div class='xr-var-data'><pre>array([850.], dtype=float32)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-71c9416c-6434-4b33-b0d0-3063bc1797bd' class='xr-section-summary-in' type='checkbox'  checked><label for='section-71c9416c-6434-4b33-b0d0-3063bc1797bd' class='xr-section-summary' >Data variables: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>time_bnds</span></div><div class='xr-var-dims'>(time, bnds)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(365, 2), meta=np.ndarray&gt;</div><input id='attrs-b52975ad-353b-44ee-89a3-073112ff92f4' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-b52975ad-353b-44ee-89a3-073112ff92f4' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-f596e5c9-1395-44dc-8ba1-d3810ac38507' class='xr-var-data-in' type='checkbox'><label for='data-f596e5c9-1395-44dc-8ba1-d3810ac38507' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table>
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr>
                        <th> Bytes </th>
                        <td> 136.97 kiB </td>
                        <td> 5.72 kiB </td>
                    </tr>
                    
                    <tr>
                        <th> Shape </th>
                        <td> (8766, 2) </td>
                        <td> (366, 2) </td>
                    </tr>
                    <tr>
                        <th> Count </th>
                        <td> 72 Tasks </td>
                        <td> 24 Chunks </td>
                    </tr>
                    <tr>
                    <th> Type </th>
                    <td> datetime64[ns] </td>
                    <td> numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="75" height="170" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="25" y2="0" style="stroke-width:2" />
  <line x1="0" y1="4" x2="25" y2="4" />
  <line x1="0" y1="9" x2="25" y2="9" />
  <line x1="0" y1="15" x2="25" y2="15" />
  <line x1="0" y1="24" x2="25" y2="24" />
  <line x1="0" y1="29" x2="25" y2="29" />
  <line x1="0" y1="35" x2="25" y2="35" />
  <line x1="0" y1="40" x2="25" y2="40" />
  <line x1="0" y1="49" x2="25" y2="49" />
  <line x1="0" y1="55" x2="25" y2="55" />
  <line x1="0" y1="60" x2="25" y2="60" />
  <line x1="0" y1="64" x2="25" y2="64" />
  <line x1="0" y1="75" x2="25" y2="75" />
  <line x1="0" y1="80" x2="25" y2="80" />
  <line x1="0" y1="84" x2="25" y2="84" />
  <line x1="0" y1="89" x2="25" y2="89" />
  <line x1="0" y1="100" x2="25" y2="100" />
  <line x1="0" y1="104" x2="25" y2="104" />
  <line x1="0" y1="109" x2="25" y2="109" />
  <line x1="0" y1="120" x2="25" y2="120" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="120" style="stroke-width:2" />
  <line x1="25" y1="0" x2="25" y2="120" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 25.412616514582485,0.0 25.412616514582485,120.0 0.0,120.0" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Text -->
  <text x="12.706308" y="140.000000" font-size="1.0rem" font-weight="100" text-anchor="middle" >2</text>
  <text x="45.412617" y="60.000000" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,45.412617,60.000000)">8766</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>uwnd</span></div><div class='xr-var-dims'>(time, level, lat, lon)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(365, 1, 73, 144), meta=np.ndarray&gt;</div><input id='attrs-c7f6cbaf-e021-4368-aec2-9ab2a34e8409' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-c7f6cbaf-e021-4368-aec2-9ab2a34e8409' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9c3864a7-0b25-4751-b8b0-c412bc149fea' class='xr-var-data-in' type='checkbox'><label for='data-9c3864a7-0b25-4751-b8b0-c412bc149fea' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>eastward_wind</dd><dt><span>long_name :</span></dt><dd>Daily U-wind on Pressure Levels</dd><dt><span>units :</span></dt><dd>m/s</dd><dt><span>unpacked_valid_range :</span></dt><dd>[-140.  175.]</dd><dt><span>actual_range :</span></dt><dd>[-78.96 110.35]</dd><dt><span>precision :</span></dt><dd>2</dd><dt><span>GRIB_id :</span></dt><dd>33</dd><dt><span>GRIB_name :</span></dt><dd>UGRD</dd><dt><span>var_desc :</span></dt><dd>u-wind</dd><dt><span>dataset :</span></dt><dd>NCEP/DOE AMIP-II Reanalysis (Reanalysis-2) Daily Averages</dd><dt><span>level_desc :</span></dt><dd>Pressure Levels</dd><dt><span>statistic :</span></dt><dd>Mean</dd><dt><span>parent_stat :</span></dt><dd>Individual Obs</dd><dt><span>cell_methods :</span></dt><dd>time: mean (of 4 6-hourly values in one day)</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table>
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr>
                        <th> Bytes </th>
                        <td> 351.52 MiB </td>
                        <td> 14.68 MiB </td>
                    </tr>
                    
                    <tr>
                        <th> Shape </th>
                        <td> (8766, 1, 73, 144) </td>
                        <td> (366, 1, 73, 144) </td>
                    </tr>
                    <tr>
                        <th> Count </th>
                        <td> 72 Tasks </td>
                        <td> 24 Chunks </td>
                    </tr>
                    <tr>
                    <th> Type </th>
                    <td> float32 </td>
                    <td> numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="472" height="90" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="120" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="4" y1="0" x2="4" y2="25" />
  <line x1="9" y1="0" x2="9" y2="25" />
  <line x1="15" y1="0" x2="15" y2="25" />
  <line x1="20" y1="0" x2="20" y2="25" />
  <line x1="24" y1="0" x2="24" y2="25" />
  <line x1="29" y1="0" x2="29" y2="25" />
  <line x1="35" y1="0" x2="35" y2="25" />
  <line x1="40" y1="0" x2="40" y2="25" />
  <line x1="44" y1="0" x2="44" y2="25" />
  <line x1="49" y1="0" x2="49" y2="25" />
  <line x1="55" y1="0" x2="55" y2="25" />
  <line x1="60" y1="0" x2="60" y2="25" />
  <line x1="64" y1="0" x2="64" y2="25" />
  <line x1="69" y1="0" x2="69" y2="25" />
  <line x1="75" y1="0" x2="75" y2="25" />
  <line x1="80" y1="0" x2="80" y2="25" />
  <line x1="84" y1="0" x2="84" y2="25" />
  <line x1="89" y1="0" x2="89" y2="25" />
  <line x1="95" y1="0" x2="95" y2="25" />
  <line x1="100" y1="0" x2="100" y2="25" />
  <line x1="104" y1="0" x2="104" y2="25" />
  <line x1="109" y1="0" x2="109" y2="25" />
  <line x1="115" y1="0" x2="115" y2="25" />
  <line x1="120" y1="0" x2="120" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >8766</text>
  <text x="140.000000" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,12.706308)">1</text>


  <!-- Horizontal lines -->
  <line x1="190" y1="0" x2="204" y2="14" style="stroke-width:2" />
  <line x1="190" y1="25" x2="204" y2="40" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="190" y1="0" x2="190" y2="25" style="stroke-width:2" />
  <line x1="204" y1="14" x2="204" y2="40" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="190.0,0.0 204.9485979497544,14.948597949754403 204.9485979497544,40.36121446433689 190.0,25.412616514582485" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="190" y1="0" x2="217" y2="0" style="stroke-width:2" />
  <line x1="204" y1="14" x2="232" y2="14" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="190" y1="0" x2="204" y2="14" style="stroke-width:2" />
  <line x1="217" y1="0" x2="232" y2="14" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="190.0,0.0 217.94454274508834,0.0 232.89314069484274,14.948597949754403 204.9485979497544,14.948597949754403" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="204" y1="14" x2="232" y2="14" style="stroke-width:2" />
  <line x1="204" y1="40" x2="232" y2="40" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="204" y1="14" x2="204" y2="40" style="stroke-width:2" />
  <line x1="232" y1="14" x2="232" y2="40" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="204.9485979497544,14.948597949754403 232.89314069484274,14.948597949754403 232.89314069484274,40.36121446433689 204.9485979497544,40.36121446433689" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="218.920869" y="60.361214" font-size="1.0rem" font-weight="100" text-anchor="middle" >144</text>
  <text x="252.893141" y="27.654906" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,252.893141,27.654906)">73</text>
  <text x="187.474299" y="52.886915" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,187.474299,52.886915)">1</text>
</svg>
        </td>
    </tr>
</table></div></li></ul></div></li><li class='xr-section-item'><input id='section-0b3777bd-5460-45d6-b0e8-824414ff0685' class='xr-section-summary-in' type='checkbox'  ><label for='section-0b3777bd-5460-45d6-b0e8-824414ff0685' class='xr-section-summary' >Attributes: <span>(12)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>CDI :</span></dt><dd>Climate Data Interface version 1.9.10 (https://mpimet.mpg.de/cdi)</dd><dt><span>Conventions :</span></dt><dd>CF-1.0</dd><dt><span>source :</span></dt><dd>NCEP/DOE AMIP-II Reanalysis (Reanalysis-2) Model</dd><dt><span>institution :</span></dt><dd>National Centers for Environmental Prediction</dd><dt><span>title :</span></dt><dd>Daily NCEP/DOE Reanalysis 2</dd><dt><span>history :</span></dt><dd>Tue Jan 04 11:04:24 2022: cdo select,level=850 uwnd.1998.nc uv850/u850.1998.nc
created 2002/03/15 by RHS (netCDF2.3)</dd><dt><span>comments :</span></dt><dd>Data is from 
NCEP/DOE AMIP-II Reanalysis (Reanalysis-2)
(4x/day).  It consists of most variables interpolated to
pressure surfaces from model (sigma) surfaces.</dd><dt><span>platform :</span></dt><dd>Model</dd><dt><span>dataset_title :</span></dt><dd>NCEP-DOE AMIP-II Reanalysis</dd><dt><span>References :</span></dt><dd>https://www.esrl.noaa.gov/psd/data/gridded/data.ncep.reanalysis2.html</dd><dt><span>source_url :</span></dt><dd>http://www.cpc.ncep.noaa.gov/products/wesley/reanalysis2/</dd><dt><span>CDO :</span></dt><dd>Climate Data Operators version 1.9.10 (https://mpimet.mpg.de/cdo)</dd></dl></div></li></ul></div></div></div></div>
</div>
<p>兩者結果一模一樣。那有什麼差別呢？在第一種方法中，<code class="docutils literal notranslate"><span class="pre">combine</span></code>引數使用的是<code class="docutils literal notranslate"><span class="pre">by_coords</span></code>，也就是xarray會嘗試著自動排列檔案合併的順序；第二種方法使用的是<code class="docutils literal notranslate"><span class="pre">combine</span> <span class="pre">=</span> <span class="pre">nested</span></code>，在這種方法中需要指定合併的順序，因此需要多一個引數<code class="docutils literal notranslate"><span class="pre">concat_dim='time'</span></code>，也就是指定xarray在哪個坐標軸上合併。詳細說明可參考<a class="reference external" href="https://xarray.pydata.org/en/stable/user-guide/combining.html#combining-along-multiple-dimensions">xarray網站 - Combining data</a>。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">combine_nested()</span></code>: requires specifying the order in which the objects should be combined. E.g.: a linearly-increasing ‘time’ dimension coordinate.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">combine_by_coords()</span></code>: attempts to infer this ordering automatically from the coordinates in the data.</p></li>
</ul>
</div>
<div class="section" id="grib">
<h2>開啟GRIB檔案<a class="headerlink" href="#grib" title="Permalink to this headline">¶</a></h2>
<p>GRIB (GRIdded Binary)格式是以二進位來儲存資料的檔案格式，且也記載了網格資訊如時間、經緯度、垂直層等，xarray也支援開啟這類檔案 (需要安裝<code class="docutils literal notranslate"><span class="pre">cfgrib</span></code>套件)，使用方式如下：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ds_grib</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="s2">&quot;example.grib&quot;</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="s2">&quot;cfgrib&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="01_intro.html" title="previous page">1. 導論</a>
    <a class='right-next' id="next-link" href="03_plotting_basics.html" title="next page">3. 繪圖基礎：畫等值地圖</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Wayne Yuan-Huai Tsai, National Taiwan University<br/>
        
            &copy; Copyright 2021-2022.<br/>
          <div class="extra_footer">
            <p>
Last updated: 2022-05-08
</p>
          </div>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-HKB5C6NRJC"></script>
<script>
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){ dataLayer.push(arguments); }
                    gtag('config', 'G-HKB5C6NRJC');
                </script>

  </body>
</html>